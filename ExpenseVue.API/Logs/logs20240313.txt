2024-03-13 14:05:55.025 +00:00 [WRN] The WebRootPath was not found: D:\Personal\ExpenseVue\ExpenseVue.API\wwwroot. Static files may be unavailable.
2024-03-13 14:05:55.607 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 14:05:55.608 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 14:05:55.612 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 14:05:55.612 +00:00 [INF] Hosting environment: Development
2024-03-13 14:05:55.613 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 14:05:56.124 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 14:05:56.477 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 354.2104ms
2024-03-13 14:05:56.607 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 14:05:56.719 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.877ms
2024-03-13 14:06:15.789 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Expense/100 - null null
2024-03-13 14:06:15.813 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.ExpenseController.GetExpenseAsync (ExpenseVue.API)'
2024-03-13 14:06:15.837 +00:00 [INF] Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseVue.API.Models.ExpenseModel]] GetExpenseAsync(Int32) on controller ExpenseVue.API.Controllers.ExpenseController (ExpenseVue.API).
2024-03-13 14:06:16.400 +00:00 [INF] Getting expense with ID 100
2024-03-13 14:06:18.056 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."Amount", "e"."CategoryId", "e"."CurrencyId", "e"."Date", "e"."Description", "e"."Vendor"
FROM "Expenses" AS "e"
WHERE "e"."Id" = @__p_0
LIMIT 1
2024-03-13 14:06:18.203 +00:00 [ERR] An error occurred while getting expense with ID 100
System.Exception: Expense not found.
   at ExpenseVue.API.Repositories.ExpenseRepository.GetExpenseAsync(Int32 id) in d:\Personal\ExpenseVue\ExpenseVue.API\Repositories\ExpenseRepository.cs:line 22
   at ExpenseVue.API.Services.ExpenseService.GetExpenseAsync(Int32 id) in d:\Personal\ExpenseVue\ExpenseVue.API\Services\ExpenseService.cs:line 33
   at ExpenseVue.API.Controllers.ExpenseController.GetExpenseAsync(Int32 id) in d:\Personal\ExpenseVue\ExpenseVue.API\Controllers\ExpenseController.cs:line 59
2024-03-13 14:06:18.346 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-13 14:06:18.352 +00:00 [INF] Executed action ExpenseVue.API.Controllers.ExpenseController.GetExpenseAsync (ExpenseVue.API) in 2510.0101ms
2024-03-13 14:06:18.353 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.ExpenseController.GetExpenseAsync (ExpenseVue.API)'
2024-03-13 14:06:18.363 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Expense/100 - 500 null text/plain; charset=utf-8 2573.3205ms
2024-03-13 15:08:41.490 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-03-13 15:08:41.547 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-03-13 15:08:41.561 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-03-13 15:08:41.578 +00:00 [INF] Applying migration '20240313150823_AddIdentity'.
2024-03-13 15:08:41.659 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Expenses" ADD "UserId" TEXT NOT NULL DEFAULT '';
2024-03-13 15:08:41.662 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2024-03-13 15:08:41.664 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2024-03-13 15:08:41.667 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2024-03-13 15:08:41.669 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-03-13 15:08:41.671 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-03-13 15:08:41.673 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-03-13 15:08:41.675 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-03-13 15:08:41.677 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Expenses_UserId" ON "Expenses" ("UserId");
2024-03-13 15:08:41.678 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2024-03-13 15:08:41.680 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2024-03-13 15:08:41.682 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2024-03-13 15:08:41.685 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2024-03-13 15:08:41.687 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2024-03-13 15:08:41.688 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2024-03-13 15:08:41.689 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2024-03-13 15:08:41.691 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Expenses" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Expenses" PRIMARY KEY AUTOINCREMENT,
    "Amount" TEXT NOT NULL,
    "CategoryId" INTEGER NOT NULL,
    "CurrencyId" INTEGER NOT NULL,
    "Date" TEXT NOT NULL,
    "Description" TEXT NULL,
    "UserId" TEXT NOT NULL,
    "Vendor" TEXT NULL,
    CONSTRAINT "FK_Expenses_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Expenses_Categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "Categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Expenses_Currencies_CurrencyId" FOREIGN KEY ("CurrencyId") REFERENCES "Currencies" ("Id") ON DELETE CASCADE
);
2024-03-13 15:08:41.695 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Expenses" ("Id", "Amount", "CategoryId", "CurrencyId", "Date", "Description", "UserId", "Vendor")
SELECT "Id", "Amount", "CategoryId", "CurrencyId", "Date", "Description", "UserId", "Vendor"
FROM "Expenses";
2024-03-13 15:08:41.805 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2024-03-13 15:08:41.808 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Expenses";
2024-03-13 15:08:41.810 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Expenses" RENAME TO "Expenses";
2024-03-13 15:08:41.837 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2024-03-13 15:08:41.840 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Expenses_CategoryId" ON "Expenses" ("CategoryId");
2024-03-13 15:08:41.842 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Expenses_CurrencyId" ON "Expenses" ("CurrencyId");
2024-03-13 15:08:41.844 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Expenses_UserId" ON "Expenses" ("UserId");
2024-03-13 15:08:41.846 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240313150823_AddIdentity', '8.0.3');
2024-03-13 15:19:02.270 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 15:19:02.929 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 15:19:02.929 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 15:19:02.955 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 15:19:02.956 +00:00 [INF] Hosting environment: Development
2024-03-13 15:19:02.956 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 15:19:03.215 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 15:19:03.329 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 114.947ms
2024-03-13 15:19:03.466 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 15:19:03.572 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.4493ms
2024-03-13 15:19:41.746 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Category - null null
2024-03-13 15:19:43.249 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint ExpenseVue.API.Controllers.CategoryController.GetCategoriesAsync (ExpenseVue.API) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-13 15:19:43.277 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Category - 500 null text/plain; charset=utf-8 1530.4392ms
2024-03-13 16:06:24.720 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:06:25.182 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:06:25.183 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:06:25.190 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:06:25.194 +00:00 [INF] Hosting environment: Development
2024-03-13 16:06:25.195 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:06:25.500 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:06:25.637 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 137.493ms
2024-03-13 16:06:25.783 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 16:06:25.903 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.6104ms
2024-03-13 16:06:54.589 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/register - application/json 78
2024-03-13 16:06:54.703 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API)'
2024-03-13 16:06:54.732 +00:00 [INF] Route matched with {action = "Register", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ExpenseVue.API.Models.RegisterModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:06:55.084 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-03-13 16:06:55.093 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API) in 356.579ms
2024-03-13 16:06:55.093 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API)'
2024-03-13 16:06:55.096 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/register - 400 null application/json; charset=utf-8 506.994ms
2024-03-13 16:07:15.768 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/register - application/json 84
2024-03-13 16:07:15.774 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API)'
2024-03-13 16:07:15.775 +00:00 [INF] Route matched with {action = "Register", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ExpenseVue.API.Models.RegisterModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:07:15.791 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-03-13 16:07:15.792 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API) in 14.4927ms
2024-03-13 16:07:15.792 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API)'
2024-03-13 16:07:15.793 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/register - 400 null application/json; charset=utf-8 24.8817ms
2024-03-13 16:07:40.800 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/register - application/json 83
2024-03-13 16:07:40.806 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API)'
2024-03-13 16:07:40.807 +00:00 [INF] Route matched with {action = "Register", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ExpenseVue.API.Models.RegisterModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:07:42.613 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-13 16:07:42.916 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 17), @p8='?' (Size = 5), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-03-13 16:07:42.924 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-13 16:07:42.928 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API) in 2120.9998ms
2024-03-13 16:07:42.928 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Register (ExpenseVue.API)'
2024-03-13 16:07:42.936 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/register - 200 null application/json; charset=utf-8 2135.7841ms
2024-03-13 16:08:01.648 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/login - application/json 51
2024-03-13 16:08:01.649 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:08:01.657 +00:00 [INF] Route matched with {action = "Login", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ExpenseVue.API.Models.LoginModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:08:01.735 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-13 16:08:02.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-13 16:08:02.031 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API) in 373.6868ms
2024-03-13 16:08:02.031 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:08:02.031 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/login - 200 null application/json; charset=utf-8 383.2128ms
2024-03-13 16:08:36.004 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Expense - null null
2024-03-13 16:08:36.011 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint ExpenseVue.API.Controllers.ExpenseController.GetExpensesAsync (ExpenseVue.API) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-13 16:08:36.038 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Expense - 500 null text/plain; charset=utf-8 34.0057ms
2024-03-13 16:12:12.856 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:12:13.301 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:12:13.301 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:12:13.304 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:12:13.305 +00:00 [INF] Hosting environment: Development
2024-03-13 16:12:13.305 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:12:13.606 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:12:13.741 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 404 0 null 138.7847ms
2024-03-13 16:12:13.748 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7038/swagger/index.html, Response status code: 404
2024-03-13 16:12:18.761 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:12:18.764 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 404 0 null 3ms
2024-03-13 16:12:18.765 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7038/swagger/index.html, Response status code: 404
2024-03-13 16:12:50.732 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:12:51.105 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:12:51.106 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:12:51.114 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:12:51.119 +00:00 [INF] Hosting environment: Development
2024-03-13 16:12:51.119 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:12:51.361 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:12:51.488 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 404 0 null 130.0708ms
2024-03-13 16:12:51.497 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7038/swagger/index.html, Response status code: 404
2024-03-13 16:14:10.670 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:14:11.095 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:14:11.100 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:14:11.107 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:14:11.107 +00:00 [INF] Hosting environment: Development
2024-03-13 16:14:11.108 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:14:11.402 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:14:11.534 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 404 0 null 134.3697ms
2024-03-13 16:14:11.542 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7038/swagger/index.html, Response status code: 404
2024-03-13 16:15:03.938 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:15:04.368 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:15:04.368 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:15:04.377 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:15:04.379 +00:00 [INF] Hosting environment: Development
2024-03-13 16:15:04.379 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:15:04.651 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:15:04.760 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 110.9975ms
2024-03-13 16:15:04.898 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 16:15:05.000 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.4334ms
2024-03-13 16:15:25.597 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/login - application/json 51
2024-03-13 16:15:25.693 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:15:25.716 +00:00 [INF] Route matched with {action = "Login", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ExpenseVue.API.Models.LoginModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:15:26.979 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-13 16:15:27.220 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-13 16:15:27.228 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API) in 1509.6462ms
2024-03-13 16:15:27.229 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:15:27.235 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/login - 200 null application/json; charset=utf-8 1637.6448ms
2024-03-13 16:16:08.445 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Expense - null null
2024-03-13 16:16:08.461 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-03-13 16:16:08.485 +00:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-03-13 16:16:08.489 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint ExpenseVue.API.Controllers.ExpenseController.GetExpensesAsync (ExpenseVue.API) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-13 16:16:08.497 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Expense - 500 null text/plain; charset=utf-8 51.6018ms
2024-03-13 16:16:34.447 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Expense - null null
2024-03-13 16:16:34.471 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-03-13 16:16:34.472 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-03-13 16:16:34.473 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint ExpenseVue.API.Controllers.ExpenseController.GetExpensesAsync (ExpenseVue.API) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-13 16:16:34.476 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Expense - 500 null text/plain; charset=utf-8 28.2004ms
2024-03-13 16:17:58.664 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:17:59.155 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:17:59.156 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:17:59.162 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:17:59.162 +00:00 [INF] Hosting environment: Development
2024-03-13 16:17:59.163 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:17:59.409 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:17:59.531 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 122.9631ms
2024-03-13 16:17:59.664 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 16:17:59.759 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.4572ms
2024-03-13 16:18:18.590 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/login - application/json 51
2024-03-13 16:18:18.690 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:18:18.713 +00:00 [INF] Route matched with {action = "Login", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ExpenseVue.API.Models.LoginModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:18:19.986 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-13 16:18:20.227 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-13 16:18:20.236 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API) in 1519.1805ms
2024-03-13 16:18:20.236 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:18:20.242 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/login - 200 null application/json; charset=utf-8 1651.4866ms
2024-03-13 16:18:45.732 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Expense - null null
2024-03-13 16:18:45.775 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-03-13 16:18:45.803 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-03-13 16:18:45.811 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-13 16:18:45.819 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-13 16:18:45.820 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Expense - 401 0 null 88.2761ms
2024-03-13 16:42:00.866 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 16:42:01.373 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 16:42:01.373 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 16:42:01.376 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 16:42:01.380 +00:00 [INF] Hosting environment: Development
2024-03-13 16:42:01.382 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 16:42:02.117 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 16:42:02.248 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 131.7468ms
2024-03-13 16:42:02.429 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 16:42:02.574 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.2638ms
2024-03-13 16:42:18.956 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7038/api/Auth/login - application/json 51
2024-03-13 16:42:19.063 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:42:19.101 +00:00 [INF] Route matched with {action = "Login", controller = "Auth", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ExpenseVue.API.Models.LoginModel) on controller ExpenseVue.API.Controllers.AuthController (ExpenseVue.API).
2024-03-13 16:42:20.342 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-13 16:42:20.597 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-13 16:42:20.605 +00:00 [INF] Executed action ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API) in 1501.6193ms
2024-03-13 16:42:20.606 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.AuthController.Login (ExpenseVue.API)'
2024-03-13 16:42:20.612 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7038/api/Auth/login - 200 null application/json; charset=utf-8 1655.6017ms
2024-03-13 16:42:35.382 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/api/Expense - null null
2024-03-13 16:42:35.467 +00:00 [INF] Executing endpoint 'ExpenseVue.API.Controllers.ExpenseController.GetExpensesAsync (ExpenseVue.API)'
2024-03-13 16:42:35.473 +00:00 [INF] Route matched with {action = "GetExpenses", controller = "Expense", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseVue.API.Models.ExpenseModel]]] GetExpensesAsync() on controller ExpenseVue.API.Controllers.ExpenseController (ExpenseVue.API).
2024-03-13 16:42:35.480 +00:00 [INF] Getting list of expenses for user user1
2024-03-13 16:42:35.568 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."Amount", "e"."CategoryId", "e"."CurrencyId", "e"."Date", "e"."Description", "e"."UserId", "e"."Vendor"
FROM "Expenses" AS "e"
WHERE "e"."UserId" = @__userId_0
2024-03-13 16:42:35.571 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseVue.API.Models.ExpenseModel, ExpenseVue.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-13 16:42:35.581 +00:00 [INF] Executed action ExpenseVue.API.Controllers.ExpenseController.GetExpensesAsync (ExpenseVue.API) in 108.2534ms
2024-03-13 16:42:35.582 +00:00 [INF] Executed endpoint 'ExpenseVue.API.Controllers.ExpenseController.GetExpensesAsync (ExpenseVue.API)'
2024-03-13 16:42:35.582 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/api/Expense - 200 null application/json; charset=utf-8 199.7703ms
2024-03-13 17:07:19.648 +00:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-13 17:07:20.081 +00:00 [INF] Now listening on: https://localhost:7038
2024-03-13 17:07:20.081 +00:00 [INF] Now listening on: http://localhost:5251
2024-03-13 17:07:20.096 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-13 17:07:20.097 +00:00 [INF] Hosting environment: Development
2024-03-13 17:07:20.097 +00:00 [INF] Content root path: D:\Personal\ExpenseVue\ExpenseVue.API
2024-03-13 17:07:20.421 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/index.html - null null
2024-03-13 17:07:20.653 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/index.html - 200 null text/html;charset=utf-8 228.0492ms
2024-03-13 17:07:20.878 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - null null
2024-03-13 17:07:21.079 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 201.4215ms
